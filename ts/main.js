(()=>{var b=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports);var N=b((z,w)=>{(function(e,i){typeof w=="object"&&w.exports?w.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:z,function(){function e(){}let i=e.prototype;return i.on=function(l,a){if(!l||!a)return this;let t=this._events=this._events||{},r=t[l]=t[l]||[];return r.includes(a)||r.push(a),this},i.once=function(l,a){if(!l||!a)return this;this.on(l,a);let t=this._onceEvents=this._onceEvents||{},r=t[l]=t[l]||{};return r[a]=!0,this},i.off=function(l,a){let t=this._events&&this._events[l];if(!t||!t.length)return this;let r=t.indexOf(a);return r!=-1&&t.splice(r,1),this},i.emitEvent=function(l,a){let t=this._events&&this._events[l];if(!t||!t.length)return this;t=t.slice(0),a=a||[];let r=this._onceEvents&&this._onceEvents[l];for(let n of t)r&&r[n]&&(this.off(l,n),delete r[n]),n.apply(this,a);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})});var x=b((W,H)=>{(function(e,i){typeof H=="object"&&H.exports?H.exports=i(e):e.fizzyUIUtils=i(e)})(W,function(i){let l={};l.extend=function(t,r){return Object.assign(t,r)},l.modulo=function(t,r){return(t%r+r)%r},l.makeArray=function(t){return Array.isArray(t)?t:t==null?[]:typeof t=="object"&&typeof t.length=="number"?[...t]:[t]},l.removeFrom=function(t,r){let n=t.indexOf(r);n!=-1&&t.splice(n,1)},l.getParent=function(t,r){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,t.matches(r))return t},l.getQueryElement=function(t){return typeof t=="string"?document.querySelector(t):t},l.handleEvent=function(t){let r="on"+t.type;this[r]&&this[r](t)},l.filterFindElements=function(t,r){return t=l.makeArray(t),t.filter(n=>n instanceof HTMLElement).reduce((n,o)=>{if(!r)return n.push(o),n;o.matches(r)&&n.push(o);let c=o.querySelectorAll(r);return n=n.concat(...c),n},[])},l.debounceMethod=function(t,r,n){n=n||100;let o=t.prototype[r],c=r+"Timeout";t.prototype[r]=function(){clearTimeout(this[c]);let u=arguments;this[c]=setTimeout(()=>{o.apply(this,u),delete this[c]},n)}},l.docReady=function(t){let r=document.readyState;r=="complete"||r=="interactive"?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(r,n,o){return n+"-"+o}).toLowerCase()};let a=i.console;return l.htmlInit=function(t,r){l.docReady(function(){let n=l.toDashed(r),o="data-"+n,c=document.querySelectorAll(`[${o}]`),u=i.jQuery;[...c].forEach(p=>{let g=p.getAttribute(o),m;try{m=g&&JSON.parse(g)}catch(h){a&&a.error(`Error parsing ${o} on ${p.className}: ${h}`);return}let s=new t(p,m);u&&u.data(p,r,s)})})},l})});var P=b((ct,T)=>{(function(e,i){typeof T=="object"&&T.exports?T.exports=i(e,N(),x()):e.InfiniteScroll=i(e,e.EvEmitter,e.fizzyUIUtils)})(window,function(i,l,a){let t=i.jQuery,r={};function n(s,h){let d=a.getQueryElement(s);if(!d){console.error("Bad element for InfiniteScroll: "+(d||s));return}if(s=d,s.infiniteScrollGUID){let f=r[s.infiniteScrollGUID];return f.option(h),f}this.element=s,this.options={...n.defaults},this.option(h),t&&(this.$element=t(this.element)),this.create()}n.defaults={},n.create={},n.destroy={};let o=n.prototype;Object.assign(o,l.prototype);let c=0;o.create=function(){let s=this.guid=++c;if(this.element.infiniteScrollGUID=s,r[s]=this,this.pageIndex=1,this.loadCount=0,this.updateGetPath(),!(this.getPath&&this.getPath())){console.error("Disabling InfiniteScroll");return}this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit();for(let d in n.create)n.create[d].call(this)},o.option=function(s){Object.assign(this.options,s)},o.callOnInit=function(){let s=this.options.onInit;s&&s.call(this,this)},o.dispatchEvent=function(s,h,d){this.log(s,d);let f=h?[h].concat(d):d;if(this.emitEvent(s,f),!t||!this.$element)return;s+=".infiniteScroll";let y=s;if(h){let S=t.Event(h);S.type=s,y=S}this.$element.trigger(y,d)};let u={initialized:s=>`on ${s}`,request:s=>`URL: ${s}`,load:(s,h)=>`${s.title||""}. URL: ${h}`,error:(s,h)=>`${s}. URL: ${h}`,append:(s,h,d)=>`${d.length} items. URL: ${h}`,last:(s,h)=>`URL: ${h}`,history:(s,h)=>`URL: ${h}`,pageIndex:function(s,h){return`current page determined to be: ${s} from ${h}`}};o.log=function(s,h){if(!this.options.debug)return;let d=`[InfiniteScroll] ${s}`,f=u[s];f&&(d+=". "+f.apply(this,h)),console.log(d)},o.updateMeasurements=function(){this.windowHeight=i.innerHeight;let s=this.element.getBoundingClientRect();this.top=s.top+i.scrollY},o.updateScroller=function(){let s=this.options.elementScroll;if(!s){this.scroller=i;return}if(this.scroller=s===!0?this.element:a.getQueryElement(s),!this.scroller)throw new Error(`Unable to find elementScroll: ${s}`)},o.updateGetPath=function(){let s=this.options.path;if(!s){console.error(`InfiniteScroll path option required. Set as: ${s}`);return}let h=typeof s;if(h=="function"){this.getPath=s;return}if(h=="string"&&s.match("{{#}}")){this.updateGetPathTemplate(s);return}this.updateGetPathSelector(s)},o.updateGetPathTemplate=function(s){this.getPath=()=>{let y=this.pageIndex+1;return s.replace("{{#}}",y)};let h=s.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),d=new RegExp(h),f=location.href.match(d);f&&(this.pageIndex=parseInt(f[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))};let p=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/],g=n.getPathParts=function(s){if(!!s)for(let h of p){let d=s.match(h);if(d){let[,f,y,S]=d;return{begin:f,index:y,end:S}}}};o.updateGetPathSelector=function(s){let h=document.querySelector(s);if(!h){console.error(`Bad InfiniteScroll path option. Next link not found: ${s}`);return}let d=h.getAttribute("href"),f=g(d);if(!f){console.error(`InfiniteScroll unable to parse next link href: ${d}`);return}let{begin:y,index:S,end:L}=f;this.isPathSelector=!0,this.getPath=()=>y+(this.pageIndex+1)+L,this.pageIndex=parseInt(S,10)-1,this.log("pageIndex",[this.pageIndex,"next link"])},o.updateGetAbsolutePath=function(){let s=this.getPath();if(s.match(/^http/)||s.match(/^\//)){this.getAbsolutePath=this.getPath;return}let{pathname:d}=location,f=s.match(/^\?/),y=d.substring(0,d.lastIndexOf("/")),S=f?d:y+"/";this.getAbsolutePath=()=>S+this.getPath()},n.create.hideNav=function(){let s=a.getQueryElement(this.options.hideNav);!s||(s.style.display="none",this.nav=s)},n.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},o.destroy=function(){this.allOff();for(let s in n.destroy)n.destroy[s].call(this);delete this.element.infiniteScrollGUID,delete r[this.guid],t&&this.$element&&t.removeData(this.element,"infiniteScroll")},n.throttle=function(s,h){h=h||200;let d,f;return function(){let y=+new Date,S=arguments,L=()=>{d=y,s.apply(this,S)};d&&y<d+h?(clearTimeout(f),f=setTimeout(L,h)):L()}},n.data=function(s){s=a.getQueryElement(s);let h=s&&s.infiniteScrollGUID;return h&&r[h]},n.setJQuery=function(s){t=s},a.htmlInit(n,"infinite-scroll"),o._init=function(){};let{jQueryBridget:m}=i;return t&&m&&m("infiniteScroll",n,t),n})});var j=b((ht,I)=>{(function(e,i){typeof I=="object"&&I.exports?I.exports=i(e,P()):i(e,e.InfiniteScroll)})(window,function(i,l){let a=l.prototype;Object.assign(l.defaults,{loadOnScroll:!0,checkLastPage:!0,responseBody:"text",domParseResponse:!0}),l.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},a.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()};let t=new DOMParser;a.loadNextPage=function(){if(this.isLoading||!this.canLoad)return;let{responseBody:o,domParseResponse:c,fetchOptions:u}=this.options,p=this.getAbsolutePath();this.isLoading=!0,typeof u=="function"&&(u=u());let g=fetch(p,u).then(m=>{if(!m.ok){let s=new Error(m.statusText);return this.onPageError(s,p,m),{response:m}}return m[o]().then(s=>(o=="text"&&c&&(s=t.parseFromString(s,"text/html")),m.status==204?(this.lastPageReached(s,p),{body:s,response:m}):this.onPageLoad(s,p,m)))}).catch(m=>{this.onPageError(m,p)});return this.dispatchEvent("request",null,[p,g]),g},a.onPageLoad=function(o,c,u){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[o,c,u]),this.appendNextPage(o,c,u)},a.appendNextPage=function(o,c,u){let{append:p,responseBody:g,domParseResponse:m}=this.options;if(!(g=="text"&&m)||!p)return{body:o,response:u};let h=o.querySelectorAll(p),d={body:o,response:u,items:h};if(!h||!h.length)return this.lastPageReached(o,c),d;let f=r(h),y=()=>(this.appendItems(h,f),this.isLoading=!1,this.dispatchEvent("append",null,[o,c,h,u]),d);return this.options.outlayer?this.appendOutlayerItems(f,y):y()},a.appendItems=function(o,c){!o||!o.length||(c=c||r(o),n(c),this.element.appendChild(c))};function r(o){let c=document.createDocumentFragment();return o&&c.append(...o),c}function n(o){let c=o.querySelectorAll("script");for(let u of c){let p=document.createElement("script"),g=u.attributes;for(let m of g)p.setAttribute(m.name,m.value);p.innerHTML=u.innerHTML,u.parentNode.replaceChild(p,u)}}return a.appendOutlayerItems=function(o,c){let u=l.imagesLoaded||i.imagesLoaded;if(!u){console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),this.isLoading=!1;return}return new Promise(function(p){u(o,function(){let g=c();p(g)})})},a.onAppendOutlayer=function(o,c,u){this.options.outlayer.appended(u)},a.checkLastPage=function(o,c){let{checkLastPage:u,path:p}=this.options;if(!u)return;if(typeof p=="function"&&!this.getPath()){this.lastPageReached(o,c);return}let g;if(typeof u=="string"?g=u:this.isPathSelector&&(g=p),!g||!o.querySelector)return;o.querySelector(g)||this.lastPageReached(o,c)},a.lastPageReached=function(o,c){this.canLoad=!1,this.dispatchEvent("last",null,[o,c])},a.onPageError=function(o,c,u){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[o,c,u]),o},l.create.prefill=function(){if(!this.options.prefill)return;let o=this.options.append;if(!o){console.error(`append option required for prefill. Set as :${o}`);return}this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()},a.prefill=function(){let o=this.getPrefillDistance();this.isPrefilling=o>=0,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},a.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},a.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},l})});var Q=b((ut,k)=>{(function(e,i){typeof k=="object"&&k.exports?k.exports=i(e,P(),x()):i(e,e.InfiniteScroll,e.fizzyUIUtils)})(window,function(i,l,a){let t=l.prototype;return Object.assign(l.defaults,{scrollThreshold:400}),l.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);let r=this.options.scrollThreshold;(r||r===0)&&this.enableScrollWatch()},l.destroy.scrollWatch=function(){this.disableScrollWatch()},t.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},t.disableScrollWatch=function(){!this.isScrollWatching||(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},t.bindScrollWatchEvents=function(r){let n=r?"addEventListener":"removeEventListener";this.scroller[n]("scroll",this.pageScrollHandler),i[n]("resize",this.resizeHandler)},t.onPageScroll=l.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),t.getBottomDistance=function(){let r,n;return this.options.elementScroll?(r=this.scroller.scrollHeight,n=this.scroller.scrollTop+this.scroller.clientHeight):(r=this.top+this.element.clientHeight,n=i.scrollY+this.windowHeight),r-n},t.onResize=function(){this.updateMeasurements()},a.debounceMethod(l,"onResize",150),l})});var G=b((dt,q)=>{(function(e,i){typeof q=="object"&&q.exports?q.exports=i(e,P(),x()):i(e,e.InfiniteScroll,e.fizzyUIUtils)})(window,function(i,l,a){let t=l.prototype;Object.assign(l.defaults,{history:"replace"});let r=document.createElement("a");return l.create.history=function(){if(!this.options.history)return;if(r.href=this.getAbsolutePath(),!((r.origin||r.protocol+"//"+r.host)==location.origin)){console.error(`[InfiniteScroll] cannot set history with different origin: ${r.origin} on ${location.origin} . History behavior disabled.`);return}this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()},t.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPage=this.scrollPages[0],this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},t.bindHistoryAppendEvents=function(n){let o=n?"addEventListener":"removeEventListener";this.scroller[o]("scroll",this.scrollHistoryHandler),i[o]("unload",this.unloadHandler)},t.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},l.destroy.history=t.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},t.onAppendHistory=function(n,o,c){if(!c||!c.length)return;let u=c[0],p=this.getElementScrollY(u);r.href=o,this.scrollPages.push({top:p,path:r.href,title:n.title})},t.getElementScrollY=function(n){return this.options.elementScroll?n.offsetTop-this.top:n.getBoundingClientRect().top+i.scrollY},t.onScrollHistory=function(){let n=this.getClosestScrollPage();n!=this.scrollPage&&(this.scrollPage=n,this.setHistory(n.title,n.path))},a.debounceMethod(l,"onScrollHistory",150),t.getClosestScrollPage=function(){let n;this.options.elementScroll?n=this.scroller.scrollTop+this.scroller.clientHeight/2:n=i.scrollY+this.windowHeight/2;let o;for(let c of this.scrollPages){if(c.top>=n)break;o=c}return o},t.setHistory=function(n,o){let c=this.options.history;!(c&&history[c+"State"])||(history[c+"State"](null,n,o),this.options.historyTitle&&(document.title=n),this.dispatchEvent("history",null,[n,o]))},t.onUnload=function(){if(this.scrollPage.top===0)return;let n=i.scrollY-this.scrollPage.top+this.top;this.destroyHistory(),scrollTo(0,n)},t.onPageLoadHistory=function(n,o){this.setHistory(n.title,o)},l})});var _=b((pt,C)=>{(function(e,i){typeof C=="object"&&C.exports?C.exports=i(e,P(),x()):i(e,e.InfiniteScroll,e.fizzyUIUtils)})(window,function(i,l,a){class t{constructor(n,o){this.element=n,this.infScroll=o,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),o.on("request",this.disable.bind(this)),o.on("load",this.enable.bind(this)),o.on("error",this.hide.bind(this)),o.on("last",this.hide.bind(this))}onClick(n){n.preventDefault(),this.infScroll.loadNextPage()}enable(){this.element.removeAttribute("disabled")}disable(){this.element.disabled="disabled"}hide(){this.element.style.display="none"}destroy(){this.element.removeEventListener("click",this.clickHandler)}}return l.create.button=function(){let r=a.getQueryElement(this.options.button);r&&(this.button=new t(r,this))},l.destroy.button=function(){this.button&&this.button.destroy()},l.Button=t,l})});var Y=b((ft,A)=>{(function(e,i){typeof A=="object"&&A.exports?A.exports=i(e,P(),x()):i(e,e.InfiniteScroll,e.fizzyUIUtils)})(window,function(i,l,a){let t=l.prototype;l.create.status=function(){let c=a.getQueryElement(this.options.status);!c||(this.statusElement=c,this.statusEventElements={request:c.querySelector(".infinite-scroll-request"),error:c.querySelector(".infinite-scroll-error"),last:c.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},t.bindHideStatus=function(c){let u=this.options.append?"append":"load";this[c](u,this.hideAllStatus)},t.showRequestStatus=function(){this.showStatus("request")},t.showErrorStatus=function(){this.showStatus("error")},t.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},t.showStatus=function(c){n(this.statusElement),this.hideStatusEventElements();let u=this.statusEventElements[c];n(u)},t.hideAllStatus=function(){r(this.statusElement),this.hideStatusEventElements()},t.hideStatusEventElements=function(){for(let c in this.statusEventElements){let u=this.statusEventElements[c];r(u)}};function r(c){o(c,"none")}function n(c){o(c,"block")}function o(c,u){c&&(c.style.display=u)}return l})});var V=b((mt,D)=>{(function(e,i){typeof D=="object"&&D.exports&&(D.exports=i(P(),j(),Q(),G(),_(),Y()))})(window,function(i){return i})});var E=class{galleryUID;items=[];constructor(i,l=1){if(window.PhotoSwipe==null||window.PhotoSwipeUI_Default==null){console.error("PhotoSwipe lib not loaded.");return}this.galleryUID=l,E.createGallery(i),this.loadItems(i),this.bindClick()}loadItems(i){this.items=[];let l=i.querySelectorAll("figure.gallery-image");for(let a of l){let t=a.querySelector("figcaption"),r=a.querySelector("img"),n={w:parseInt(r.getAttribute("width")),h:parseInt(r.getAttribute("height")),src:r.src,msrc:r.getAttribute("data-thumb")||r.src,el:a};t&&(n.title=t.innerHTML),this.items.push(n)}}static createGallery(i){let l=i.querySelectorAll("figure.gallery-image"),a=[];for(let t of l)a.length?t.previousElementSibling===a[a.length-1]?a.push(t):a.length&&(E.wrap(a),a=[t]):a=[t];a.length>0&&E.wrap(a)}static wrap(i){let l=document.createElement("div");l.className="gallery";let a=i[0].parentNode,t=i[0];a.insertBefore(l,t);for(let r of i)l.appendChild(r)}open(i){let l=document.querySelector(".pswp");new window.PhotoSwipe(l,window.PhotoSwipeUI_Default,this.items,{index:i,galleryUID:this.galleryUID,getThumbBoundsFn:t=>{let r=this.items[t].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,o=r.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}}).init()}bindClick(){for(let[i,l]of this.items.entries())l.el.querySelector("a").addEventListener("click",t=>{t.preventDefault(),this.open(i)})}},$=E;var v={};if(localStorage.hasOwnProperty("StackColorsCache"))try{v=JSON.parse(localStorage.getItem("StackColorsCache"))}catch{v={}}async function O(e,i,l){if(!e)return await Vibrant.from(l).getPalette();if(!v.hasOwnProperty(e)||v[e].hash!==i){let a=await Vibrant.from(l).getPalette();v[e]={hash:i,Vibrant:{hex:a.Vibrant.hex,rgb:a.Vibrant.rgb,bodyTextColor:a.Vibrant.bodyTextColor},DarkMuted:{hex:a.DarkMuted.hex,rgb:a.DarkMuted.rgb,bodyTextColor:a.DarkMuted.bodyTextColor}},localStorage.setItem("StackColorsCache",JSON.stringify(v))}return v[e]}var J=(e,i=500)=>{e.classList.add("transiting"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=i+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",window.setTimeout(()=>{e.classList.remove("show"),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},i)},K=(e,i=500)=>{e.classList.add("transiting"),e.style.removeProperty("display"),e.classList.add("show");let l=e.offsetHeight;e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=i+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},i)},Z=(e,i=500)=>window.getComputedStyle(e).display==="none"?K(e,i):J(e,i);function U(){let e=document.getElementById("toggle-menu");e&&e.addEventListener("click",()=>{document.getElementById("main-menu").classList.contains("transiting")||(document.body.classList.toggle("show-menu"),Z(document.getElementById("main-menu"),300),e.classList.toggle("is-active"))})}function X(e,i,l){var a=document.createElement(e);for(let t in i)if(t&&i.hasOwnProperty(t)){let r=i[t];t=="dangerouslySetInnerHTML"?a.innerHTML=r.__html:r===!0?a.setAttribute(t,t):r!==!1&&r!=null&&a.setAttribute(t,r.toString())}for(let t=2;t<arguments.length;t++){let r=arguments[t];r&&a.appendChild(r.nodeType==null?document.createTextNode(r.toString()):r)}return a}var B=X;var M=class{localStorageKey="StackColorScheme";currentScheme;systemPreferScheme;constructor(i){this.bindMatchMedia(),this.currentScheme=this.getSavedScheme(),this.dispatchEvent(document.documentElement.dataset.scheme),i&&this.bindClick(i),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}saveScheme(){localStorage.setItem(this.localStorageKey,this.currentScheme)}bindClick(i){i.addEventListener("click",l=>{this.isDark()?this.currentScheme="light":this.currentScheme="dark",this.setBodyClass(),this.currentScheme==this.systemPreferScheme&&(this.currentScheme="auto"),this.saveScheme()})}isDark(){return this.currentScheme=="dark"||this.currentScheme=="auto"&&this.systemPreferScheme=="dark"}dispatchEvent(i){let l=new CustomEvent("onColorSchemeChange",{detail:i});window.dispatchEvent(l)}setBodyClass(){this.isDark()?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light",this.dispatchEvent(document.documentElement.dataset.scheme)}getSavedScheme(){let i=localStorage.getItem(this.localStorageKey);return i=="light"||i=="dark"||i=="auto"?i:"auto"}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{i.matches?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.setBodyClass()})}},R=M;var tt=V(),et=document.querySelector(".article-list"),it={path:".pagination-next",append:".has-image"},vt=new tt(et,it),F={init:()=>{U();let e=document.querySelector(".article-content");e&&new $(e);let i=document.querySelector(".article-list--tile");i&&new IntersectionObserver(async(n,o)=>{n.forEach(c=>{if(!c.isIntersecting)return;o.unobserve(c.target),c.target.querySelectorAll("article.has-image").forEach(async p=>{let g=p.querySelector("img"),m=g.src,s=g.getAttribute("data-key"),h=g.getAttribute("data-hash"),d=p.querySelector(".article-details"),f=await O(s,h,m);d.style.background=`
                        linear-gradient(0deg, 
                            rgba(${f.DarkMuted.rgb[0]}, ${f.DarkMuted.rgb[1]}, ${f.DarkMuted.rgb[2]}, 0.5) 0%, 
                            rgba(${f.Vibrant.rgb[0]}, ${f.Vibrant.rgb[1]}, ${f.Vibrant.rgb[2]}, 0.75) 100%)`})})}).observe(i);let l=document.querySelectorAll(".article-content .highlight"),a="Copy",t="Copied!";l.forEach(r=>{let n=document.createElement("button");n.innerHTML=a,n.classList.add("copyCodeButton"),r.appendChild(n);let c=r.getElementsByTagName("pre")[0].textContent;n.addEventListener("click",()=>{navigator.clipboard.writeText(c).then(()=>{n.textContent=t,setTimeout(()=>{n.textContent=a},1e3)}).catch(u=>{alert(u),console.log("Something went wrong",u)})})}),new R(document.getElementById("dark-mode-toggle"))}};window.addEventListener("load",()=>{setTimeout(function(){F.init()},0)});window.Stack=F;window.createElement=B;})();
/*!
 * Infinite Scroll v4.0.1
 * Automatically add next page
 *
 * Licensed GPLv3 for open source use
 * or Infinite Scroll Commercial License for commercial use
 *
 * https://infinite-scroll.com
 * Copyright 2018-2020 Metafizzy
 */
/*!
*   Hugo Theme Stack
*
*   @author: Jimmy Cai
*   @website: https://jimmycai.com
*   @link: https://github.com/CaiJimmy/hugo-theme-stack
*/
